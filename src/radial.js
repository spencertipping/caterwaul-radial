caterwaul.module( 'radial' , function ($) { $.radial = (function () {var install_options_on =function (options, c) { ; return options.constructor === String ? c.strokeStyle = c.fillStyle = options: (function (xs) {var x, x0, xi, xl, xr;for (var xi = 0, xl = xs.length; xi < xl; ++xi) x = xs[xi] , (x0 = x[0] .replace( /_(\w)/ , (function (_, x) {return x.toUpperCase()})) , x0 === 'color' ? c.strokeStyle = c.fillStyle = x[1]: c[x0] = x[1]) ; return xs}) .call(this, (function (o) {var ps = [] ; for (var k in o) Object.prototype.hasOwnProperty.call(o, k) && ps.push( [k, o[k]]) ; return ps}) .call(this, ( options)))} , path_apply =function (fs) { ; return function (c) { ; return (c.save() , c.beginPath() , (function (xs) {var x, x0, xi, xl, xr;for (var xi = 0, xl = xs.length; xi < xl; ++xi) x = xs[xi] , (x.call(this, c)) ; return xs}) .call(this, fs) , c.restore())}} , path =function () { ; return path_apply(arguments)} , nop =function (c) { ; return c} , clip =function (c) { ; return c.clip()} , pclose =function (c) { ; return c.closePath()} , fill =function (options) { ; return function (c) { ; return (c.save() ,install_options_on( options, c) , c.fill() , c.restore())}} , stroke =function (options) { ; return function (c) { ; return (c.save() ,install_options_on( options, c) , c.stroke() , c.restore())}} , pmove =function (x, y) { ; return function (c) { ; return c.moveTo(x, y)}} , pquad =function (cx, cy, x, y) { ; return function (c) { ; return c.quadraticCurveTo(cx, cy, x, y)}} , parcto =function (x1, y1, x2, y2, r) { ; return function (c) { ; return c.arcTo(x1, y1, x2, y2, r)}} , pline =function (x, y) { ; return function (c) { ; return c.lineTo(x, y)}} , pbezier =function (c1x, c1y, c2x, c2y, x, y) { ; return function (c) { ; return c.bezierCurveTo(c1x, c1y, c2x, c2y, x, y)}} , parc =function (x, y, r, sa, ea, ac) { ; return function (c) { ; return c.arc(x, y, r, sa, ea, ac)}} , prect =function (x, y, w, h) { ; return function (c) { ; return c.rect(x, y, w, h)}} , clear =function (x, y, w, h) { ; return function (c) { ; return c.clearRect(x, y, w, h)}} , image =function (source, options) {var options = options || {} ; return function (c) { ; return c.drawImage(source, 0, 0)}} , stroke_text =function (s, options) { ; return function (c) { ; return (c.save() ,install_options_on( options, c) , c.strokeText(s, 0, 0) , c.restore())}} , fill_text =function (s, options) { ; return function (c) { ; return (c.save() ,install_options_on( options, c) , c.fillText(s, 0, 0) , c.restore())}} , translate =function (x, y) { ; return function (c) { ; return c.translate(x, y)}} , scale =function (x, y) { ; return function (c) { ; return c.scale(x, y)}} , rotate =function (theta) { ; return function (c) { ; return c.rotate(theta)}} , composite_canvas =function (w, h) { ; return(function (it) {return it.width = w, it.height = h, it}) .call(this, ( document.createElement( 'canvas')))} , composite =function (w, h, destination, render_fn) {var layer = composite_canvas(w, h) ; return function (f) { ; return( f(layer.getContext( '2d')) , render_fn(layer) (destination.getContext( '2d')))}} , in_rectangle =function (x, y, w, h) { ; return function (px, py) { ; return px >= x && px <= x + w && py >= y && py <= y + h}} , in_arc =function (x, y, r0, t0, dr, dt) { ; return function (px, py) { ; return(function () {var prx = px - x, pry = py - y, pr = Math.sqrt(prx*prx + pry*pry) , pt = Math.atan2(prx, pry) ; return (pr >= r0 && pr <= r0 + dr && pt >= t0 && pt <= t0 + dt)}) .call(this)}} ; return{ install_options_on: install_options_on, path_apply: path_apply, path: path, nop: nop, clip: clip, pclose: pclose, fill: fill, stroke: stroke, pmove: pmove, pquad: pquad, parcto: parcto, pline: pline, pbezier: pbezier, parc: parc, prect: prect, clear: clear, image: image, stroke_text: stroke_text, fill_text: fill_text, translate: translate, scale: scale, rotate: rotate, composite_canvas: composite_canvas, composite: composite, in_rectangle: in_rectangle, in_arc: in_arc}}) .call(this)}) ;